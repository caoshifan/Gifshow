# GIF动画库管理器 v2.0

## 🆕 新版本特性

### ✨ 主要改进
- **✅ 支持删除GIF** - 可以从库中删除不需要的GIF动画
- **📊 可视化管理** - 图形界面显示所有现有GIF列表
- **🔧 库维护功能** - 重建库文件、打包导出功能
- **📱 现代化界面** - 更美观、更易用的图形界面
- **💻 命令行支持** - 提供CLI工具用于批处理

### 🛠️ 功能对比

| 功能 | v1.0 | v2.0 |
|------|------|------|
| 添加GIF | ✅ | ✅ |
| 删除GIF | ❌ | ✅ |
| 列出现有GIF | ❌ | ✅ |
| 图形界面 | 基础 | 现代化 |
| 批量操作 | ❌ | ✅ |
| 库文件打包 | ❌ | ✅ |
| 命令行工具 | ❌ | ✅ |

## 📁 新文件结构

```
add_gif_Tool/
├── gif_manager.py          # 核心管理模块
├── gif_manager_ui.py       # 图形界面 (主程序)
├── gif_manager_cli.py      # 命令行工具
├── build_new.spec          # 新版本打包配置
├── README_v2.md           # 本说明文档
├── dist/                  # 打包输出目录
└── 旧版本文件...
```

## 🚀 使用方法

### 方法1: 图形界面 (推荐)

1. **运行程序**
   ```bash
   python gif_manager_ui.py
   ```
   或运行打包后的exe文件

2. **主界面功能**
   - **左侧列表**: 显示当前库中所有GIF动画
   - **右侧操作面板**: 添加、管理功能

3. **添加GIF**
   - 点击"📁 选择GIF文件夹"
   - 选择包含.c文件的文件夹
   - 点击"➕ 添加到库"

4. **删除GIF**
   - 在左侧列表中选择要删除的GIF
   - 点击"🗑️ 删除选中"
   - 确认删除

5. **其他功能**
   - **双击GIF名称**: 查看详细信息
   - **🔧 重建库文件**: 重新生成所有库文件
   - **📦 打包库文件**: 导出为zip格式

### 方法2: 命令行工具

```bash
# 列出所有GIF
python gif_manager_cli.py list

# 添加GIF
python gif_manager_cli.py add "路径/到/gif/文件夹"

# 删除GIF
python gif_manager_cli.py remove gif_name

# 查看GIF信息
python gif_manager_cli.py info gif_name

# 重建库文件
python gif_manager_cli.py rebuild
```

## 🔧 安装和打包

### 依赖安装
```bash
pip install tkinter pathlib
```

### 打包为exe
```bash
pyinstaller build_new.spec
```

## 📋 操作流程

### 完整的GIF添加流程
1. **准备GIF文件**
   - 使用Gifsplitter分解GIF为单帧
   - 使用Img2Lcd转换为C数组文件
   - 将.c文件放在一个文件夹中

2. **添加到库**
   - 打开GIF管理器
   - 选择包含.c文件的文件夹
   - 确认添加

3. **验证结果**
   - 在左侧列表中看到新添加的GIF
   - 双击查看详细信息

### GIF删除流程
1. **选择要删除的GIF**
   - 在左侧列表中选择

2. **执行删除**
   - 点击删除按钮
   - 确认操作

3. **系统自动清理**
   - 删除frames文件夹
   - 清理gif_frames.h中的声明
   - 移除cpp文件中的相关代码
   - 更新枚举定义

## ⚠️ 注意事项

1. **删除操作不可撤销** - 删除GIF会永久移除所有相关文件
2. **备份重要数据** - 在大量操作前建议备份MyLibrary文件夹
3. **文件夹命名** - GIF文件夹名称将作为动画名称，建议使用英文
4. **路径问题** - 确保工具能找到MyLibrary目录

## 🐛 故障排除

### 常见问题

**Q: 找不到MyLibrary目录**
- A: 确保工具在正确的项目根目录下运行

**Q: 删除功能不完整**
- A: 使用"重建库文件"功能重新生成

**Q: 添加GIF失败**
- A: 检查.c文件格式是否正确，确保包含标准的数组定义

**Q: 界面显示异常**
- A: 检查是否安装了tkinter，在Windows上通常随Python安装

## 📈 版本历史

### v2.0 (当前版本)
- ✅ 添加删除GIF功能
- ✅ 重新设计图形界面
- ✅ 添加命令行工具
- ✅ 增加库管理功能

### v1.0 (原版本)
- ✅ 基础添加GIF功能
- ✅ 简单图形界面

## 🔮 未来计划

- 🔄 集成GIF分解和取模功能
- 🎨 GIF预览功能
- 📊 统计和分析功能
- 🌐 网络GIF直接导入 